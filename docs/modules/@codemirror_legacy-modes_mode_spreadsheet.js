async function moduleInitFunction(require,exports={}){Object.defineProperty(exports,"__esModule",{value:!0});return exports.spreadsheet={startState:function(){return{stringType:null,stack:[]}},token:function(stream,state){if(stream){//return state
//stack has
switch(0===state.stack.length&&("\""==stream.peek()||"'"==stream.peek())&&(state.stringType=stream.peek(),stream.next(),state.stack.unshift("string")),state.stack[0]){case"string":for(;"string"===state.stack[0]&&!stream.eol();)stream.peek()===state.stringType?(// Skip quote
stream.next(),state.stack.shift()):"\\"===stream.peek()?(stream.next(),stream.next()):stream.match(/^.[^\\\"\']*/);return"string";case"characterClass":for(;"characterClass"===state.stack[0]&&!stream.eol();)stream.match(/^[^\]\\]+/)||stream.match(/^\\./)||state.stack.shift();return"operator";}var peek=stream.peek();//no stack
return"["===peek?(stream.next(),state.stack.unshift("characterClass"),"bracket"):":"===peek?(stream.next(),"operator"):"\\"===peek?stream.match(/\\[a-z]+/)?"string.special":(stream.next(),"atom"):"."===peek||","===peek||";"===peek||"*"===peek||"-"===peek||"+"===peek||"^"===peek||"<"===peek||"/"===peek||"="===peek?(stream.next(),"atom"):"$"===peek?(stream.next(),"builtin"):stream.match(/\d+/)?stream.match(/^\w+/)?"error":"number":stream.match(/^[a-zA-Z_]\w*/)?stream.match(/(?=[\(.])/,!1)?"keyword":"variable":-1==["[","]","(",")","{","}"].indexOf(peek)?(stream.eatSpace()||stream.next(),null):(stream.next(),"bracket")}//check for state changes
}},exports}