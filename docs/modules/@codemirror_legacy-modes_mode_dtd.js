async function moduleInitFunction(require,exports={}){function ret(style,tp){return type=tp,style}function tokenBase(stream,state){var ch=stream.next();if("<"==ch&&stream.eat("!")){if(stream.eatWhile(/[\-]/))return state.tokenize=tokenSGMLComment,tokenSGMLComment(stream,state);if(stream.eatWhile(/[\w]/))return ret("keyword","doindent")}else{if("<"==ch&&stream.eat("?"))return state.tokenize=inBlock("meta","?>"),ret("meta",ch);if("#"==ch&&stream.eatWhile(/[\w]/))return ret("atom","tag");if("|"==ch)return ret("keyword","separator");if(ch.match(/[\(\)\[\]\-\.,\+\?>]/))return ret(null,ch);//if(ch === ">") return ret(null, "endtag"); else
if(ch.match(/[\[\]]/))return ret("rule",ch);if("\""==ch||"'"==ch)return state.tokenize=tokenString(ch),state.tokenize(stream,state);if(stream.eatWhile(/[a-zA-Z\?\+\d]/)){var sc=stream.current();return null!==sc.substr(sc.length-1,sc.length).match(/\?|\+/)&&stream.backUp(1),ret("tag","tag")}return"%"==ch||"*"==ch?ret("number","number"):(stream.eatWhile(/[\w\\\-_%.{,]/),ret(null,null))}}function tokenSGMLComment(stream,state){for(var ch,dashes=0;null!=(ch=stream.next());){if(2<=dashes&&">"==ch){state.tokenize=tokenBase;break}dashes="-"==ch?dashes+1:0}return ret("comment","comment")}function tokenString(quote){return function(stream,state){for(var ch,escaped=!1;null!=(ch=stream.next());){if(ch==quote&&!escaped){state.tokenize=tokenBase;break}escaped=!escaped&&"\\"==ch}return ret("string","tag")}}function inBlock(style,terminator){return function(stream,state){for(;!stream.eol();){if(stream.match(terminator)){state.tokenize=tokenBase;break}stream.next()}return style}}Object.defineProperty(exports,"__esModule",{value:!0});var type;return exports.dtd={startState:function(){return{tokenize:tokenBase,baseIndent:0,stack:[]}},token:function(stream,state){if(stream.eatSpace())return null;var style=state.tokenize(stream,state),context=state.stack[state.stack.length-1];return"["==stream.current()||"doindent"===type||"["==type?state.stack.push("rule"):"endtag"===type?state.stack[state.stack.length-1]="endtag":"]"==stream.current()||"]"==type||">"==type&&"rule"==context?state.stack.pop():"["==type&&state.stack.push("["),style},indent:function(state,textAfter,cx){var n=state.stack.length;if("]"===textAfter.charAt(0))n--;else if(">"===textAfter.substr(textAfter.length-1,textAfter.length)){if("<"===textAfter.substr(0,1));else if("doindent"==type&&1<textAfter.length);else if("doindent"==type)n--;else if(">"==type&&1<textAfter.length);else if("tag"==type&&">"!==textAfter);else if("tag"==type&&"rule"==state.stack[state.stack.length-1])n--;else if("tag"==type)n++;else if(">"===textAfter&&"rule"==state.stack[state.stack.length-1]&&">"===type)n--;else if(">"===textAfter&&"rule"==state.stack[state.stack.length-1]);else if("<"!==textAfter.substr(0,1)&&">"===textAfter.substr(0,1))--n;else if(">"===textAfter);else--n;//over rule them all
(null==type||"]"==type)&&n--}return state.baseIndent+n*cx.unit},languageData:{indentOnInput:/^\s*[\]>]$/}},exports}